using Sirenix.Serialization;

namespace HappyHotel.Buff.Settings
{
    // 命中易伤触发设置，支持序列化与映射
    [System.Serializable]
    [BuffSettingFor("AttackOnHitVulnerability")]
    public class AttackOnHitVulnerabilitySetting : IBuffSetting
    {
        [OdinSerialize]
        private int layersPerHit = 1;

        public AttackOnHitVulnerabilitySetting()
        {
        }

        public AttackOnHitVulnerabilitySetting(int layersPerHit)
        {
            this.layersPerHit = layersPerHit;
        }

        public void ConfigureBuff(BuffBase buff)
        {
            if (buff is AttackOnHitVulnerabilityBuff b)
            {
                b.SetLayersPerHit(layersPerHit);
            }
        }

        public int GetLayersPerHit()
        {
            return layersPerHit;
        }
    }
}


